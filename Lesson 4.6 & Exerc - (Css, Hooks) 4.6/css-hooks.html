<!DOCTYPE html>
<html>
  <head>
    <title> State And EventHandler - Lesson 3</title>
  </head>
  <body>
    <div class="js-container"></div>


    <!-- <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>

    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script> -->

    


    <!-- <script type="text/babel">




        /*
            "Counter COMPONENT" - I USE THESE COUNTER TO CREATE 2 COUNTER  ON THE  WEBSITE
        */
        function Counter({count, setCount}) {


            /*
            - EVENT HANDLER FOR THE BUTTON
            - UPDATING THE STATE VARIABLE "value" BY INCREMENTING IT BY ONE
            */
            function handleButtonClick() {
                //UPDATES A STATE VARIABLE -> const [value, setValue] = useState(initialValue); 
                //, setValue is the state setter function returned by React [1].
                 setCount(count + 1);
            }
            
            
            return (
                <button onClick={handleButtonClick}>       Clicked {count} {count === 1 ? 'time' : 'times'}
                </button>
            );
        }







        /* "RESET BUTTON COMPONENT" - I AM SETTING THE COUNTER TO (0) WHICH IS THE INITIAL
        */
        function Reset({setCount}) {

            function handleResetClick() {
                setCount(0);
            }
            return (
                <button onClick={handleResetClick}>
                    Reset
                </button>
            );
        } 




        /*
            AUTOCLICK BUTTON
            "Counter COMPONENT" - I USE THESE COUNTER TO CREATE 2 COUNTER  ON THE  WEBSITE
        */
        function AutoClick({count, setCount}) {

            /* React.useRef -> LETS US AUTOMATICALLY SAVE AN HTML ELEMENT
            */
            const autoClickRef = React.useRef();

            
            /*
            - EVENT HANDLER FOR THE BUTTON
            - UPDATING THE STATE VARIABLE "value" BY INCREMENTING IT BY ONE
            */
            function handleAutoButtonClick() {
                //UPDATES A STATE VARIABLE -> const [value, setValue] = useState(initialValue); 
                //, setValue is the state setter function returned by React [1].
                  // React.useEffect(() => {
                // INTERVAL 
                // const autoButtonEle = setInterval(() => {
                //      setCount();
                // }, 1000);

                setInterval(() => {
                    const autoButtonElem = autoClickRef.current;
                    if(autoButtonElem) {
                        setCount(count + 1);
                        autoButtonElem.click();
                    }
                }, 1000);

            // }, []);
            }
            
            
            return (
                <div ref={autoClickRef}>
                    <button onClick={handleAutoButtonClick}>      
                         Auto Click
                    </button>
                </div>
            );
        }






        function App() {
          /* USING THE "STATE HOOK" WITH React.useState HERE , TO ADD STATE MANAGEMENT TO THE FUNCTION COMPONENT
            */
           // WE USE THE "useState" HOOK. The argument (0) is the initial value of that state the very first time the component renders.
            const [count, setCount] = React.useState(0);


              
            return(
                <>
                    <Counter 
                        count={count}
                        setCount={setCount}
                    />

                    <Reset 
                        setCount={setCount}
                    />

                    <AutoClick 
                        count={count}
                        setCount={setCount}
                    />
                </>
            );

        }



      const container = document.querySelector('.js-container');
      ReactDOM.createRoot(container).render(<App />);
    </script> -->






    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>

    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>

    <script type="text/babel">

        /*
             A COUNTER APP PROJECT
        */


        function App() {
             //1.  WE USE THE "useState" HOOK. THE ARGUMENT(0) IS THE INITIAL VALUE OF THAT STATE, THE VERY FIRST TIME THE COMPONENT RENDERS.
            const [count, setCount] = React.useState(0);


            /*2.  React.useRef -> LETS US AUTOMATICALLY SAVE AN HTML ELEMENT
            */
            const autoClickRef = React.useRef();


            /* 3. 
            - EVENT HANDLER FOR THE BUTTON - COUNT
            - UPDATING THE STATE VARIABLE "value" BY INCREMENTING IT BY ONE
            */
            function handleIncreaseButtonClick() {
                //UPDATES A STATE VARIABLE -> const [value, setValue] = useState(initialValue); 
                //, setValue is the state setter function returned by React [1].
                 setCount(count + 1);
            }


            /* 4. 
            - EVENT HANDLER FOR THE BUTTON - RESET
            - UPDATING THE STATE VARIABLE "value" BY RESETING IT  (TO INITIAL STARTING POINT "0")
            */
             function handleResetClick() {
                setCount(0);
            }


             /* 5. 
            - EVENT HANDLER FOR THE BUTTON - AUTOBUTTONCLICK
            - UPDATING THE STATE VARIABLE "value" BY COUNTING AUTOMATICALLY USING THE - setInterval 
            */
            function handleAutoButtonClick() {

                /* 6. THESE "setInterval" AUTHENTICATE THE AUTOMATIC COUNT
                */
                setInterval(() => {
                    const autoButtonElem = autoClickRef.current;
                    if(autoButtonElem) {
                        // setCount(count + 1);
                        autoButtonElem.click();
                    }
                }, 1000);
            }


            /* 
                7. RETURN THE COMPONENT HERE TO DISPLAY THE "BUTTONS"
            */
            return(
                <>
                    <button onClick={handleIncreaseButtonClick} ref={autoClickRef}> 
                        CLICKED  {count} {count === 1 ? 'time' : 'times'}
                    </button>

                    <button onClick={handleResetClick}>
                        RESET
                    </button> 
                    
                    <button onClick={handleAutoButtonClick}>      
                        AUTO CLICK 
                    </button>
                </>  
            );


        }





        const container = document.querySelector('.js-container');
        ReactDOM.createRoot(container).render(<App />);
    </script>

  </body>
</html>